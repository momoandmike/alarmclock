<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

</head>
<body>
<iframe src="static/asadayo_01.wav" allow="autoplay" style="display:none"></iframe>
  <div class="container">
      <input type="time" name="" id="time">
      <button id="set_time">set</button>
    <div>
      <!-- 再生ボタン -->
      <button id="play" class="btn btn-primary">再生</button><!-- #play -->
    </div>
    <div>
      <!-- 音量ボタン -->
      <button id="volume-up" class="btn btn-success"><i class="fas fa-caret-up"></i></button><!-- #volume-up -->
      <button id="volume-down" class="btn btn-success"><i class="fas fa-caret-down"></i></button><!-- #volume-down -->
      <!-- ミュートボタン -->
      <button id="mute" class="btn btn-warning"><i class="fas fa-volume-mute"></i></button><!-- .btn btn-warning -->
    </div>
  </div><!-- .container -->

</body>
</html>
<script>
    'use strict';

    // 要素
    const music = new Audio('static/asadayo_01.wav');
    const play = document.getElementById('play');
    const volumeUp = document.getElementById('volume-up');
    const volumeDown = document.getElementById('volume-down');
    const mute = document.getElementById('mute');
    const time = document.getElementById('time');
    const set_time = document.getElementById('set_time');

    // 再生ボタン
    play.addEventListener('click', function(){
      if(!music.paused){
        play.innerHTML ="再生";
        music.pause();
      }else{
        play.innerHTML = "停止";
        music.play();
      }
    });
    // setボタン
    set_time.addEventListener('click', function(){
      if(!music.paused){
        play.innerHTML ="再生";
        music.pause();
      }else{
        let s_time = new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate(),time.value.split(":")[0],time.value.split(":")[1])
        let n_time = new Date();
        console.log(s_time, n_time);
        let delta = (s_time - n_time);
        console.log(delta)
        play.innerHTML = "停止";

        setTimeout(() => {
            music.play();
        },delta);
      }
    });


    // 音量ボタン
    volumeUp.addEventListener('click', function(){
      const volume = music.volume;
      if(volume < 1){
        music.volume = (volume * 10 + 1) / 10;
      }
    });
    volumeDown.addEventListener('click', function(){
      const volume = music.volume;
      if(volume > 0){
        music.volume = (volume * 10 - 1) / 10;
      }
    });

    // ミュートボタン
    mute.addEventListener('click', function(){
      if(music.muted){
        music.muted = false;
        mute.innerHTML = '<i class="fas fa-volume-mute">';
      }else{
        music.muted = true;
        mute.innerHTML = '<i class="fas fa-volume-up"></i>';
      }
    });

const dead = new Date( 2022, (2 - 1), 13 , 10 , 40 ); // 締め切り
const deadLine = parseInt( dead / 1000 ); // timestampに変更する
const dateCurrent = parseInt( new Date() / 1000 ); // 現在時刻を取得
const sendButton = document.getElementById("sendButton");
const hideButton = document.getElementById("hideButton");

<!--for(var i=0;i<10000000;i++) {-->

<!--console.log(i);-->
<!--if ( dateCurrent > deadLine ) {-->
<!--    console.log("play!!");-->
<!--    music.play();-->
<!--    alert("just!");-->
<!--    break-->
<!--}-->
<!--sleep(1)-->
<!--}-->
</script>
